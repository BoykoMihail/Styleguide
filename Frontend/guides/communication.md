# Общее

Использовать следующий Jira Workflow: [ОПИСАНИЕ ПРОЦЕССА ИСПОЛЬЗОВАНИЯ](../../general/dashboardGuide.md#ОПИСАНИЕ-ПРОЦЕССА-ИСПОЛЬЗОВАНИЯ)

Таски в JIRA резолвить только после того, как версия приложения выложена на тестовый сервер.

# Web-frontend

Разработка web-приложения начинается после получения макетов от дизайнеров.

## Дизайн.

Макеты создаются в сервисе Figma с использованием компонентного подхода - элементы максимально реиспользуются и могут иметь модификации (меняется цвет, размер, отступы и т.д.) с сохранением оригинальной структуры элементов в компоненте. 

### Шрифты 
Шрифты, используемые в макетах могут быть только: 
- бесплатные и есть на [Google Fonts](https://fonts.google.com/)
- лицензированные и прилагаются к макету в форматах WOFF, WOFF2, TTF, EOT и SVG в зависимости от браузерной поддержки на проекте (отдельный файл для каждого начертания). 

### Размеры макетов
- Базовая ширина макета 1280px для десктопной версии и 360px для мобильной (контент должен нормально отображаться и на 320px - это минимальная ширина проекта). 
- При необходимости по просьбе верстальщика рисуется макет на 1024px или другие разрешения. 
- При создании макета учитывается переход к планшетной и мобильной версии - как ведёт себя контент при ресайзе, неочевидное поведение прописывается в комментарии под макетом.
- Мин. высота макетов для десктопной версии - 600px (для лендингов с постраничным скроллом - контент норм отображается при такой высоте вьюпорта). 

*Макеты для мобильной версии отрисовываются до начала разработки!*

### Состояния в макетах
- Дополнительно отрисовываются макеты для крайних состояний - максимальная и минимальная ширина контента, отсутствие контента.
- На страницах предусмотрен вывод ошибок сервера вместо контента, а в формах и диалогах - ошибок валидации и сервера (если нужно).
- Для динамического контента отрисовано состояние с прелоадером.
- Отрисованы холдеры на месте картинок и пр. контента, который может не загрузиться с сервера.

### UI-kit
К макетам дизайнер обязательно прикладывает стайлгайд, в котором есть:
- все цвета, использованные в макетах, со всеми вариантами прозрачности
- типографика, использованная в макетах - все используемые шрифты, их начертания, размеры, высота строки
- все возможные состояния ссылок, кнопок, полей и других контролов
- состояния других интерактивных элементов - всё, на что можно навестись курсором и тапнуть (навигация, выпадающие списки и тд.)
- состояния контента в модальных (диалоговых) окнах, последовательно
- варианты контента для элемента, повторяющегося на разных страницах или при логине на разных типах пользователей  
- прелоадеры - png, svg с описанием анимации, либо gif.

*__Важно:__ прозрачность (a-канал) допускается только у декоративных элементов, например, теней. Исключения - особые визуальные кейсы в типографике.*

По просьбе разработчиков дизайнер нарезает необходимую графику:
- иконки с прозрачностью в png или svg формате
- фоновые изображения в формате jpg и имеют минимальный вес (до 300 kb для фонов во всю ширину страницы).

*__Важно:__ после начала разработки все изменения в макетах во вкладке Prod фиксируются - необходимо указать дату и время правки, описать, что именно изменилось, и сообщить об этом верстальщику.*

### Подготовка графики для страниц портфолио на сайте
К макету страницы проекта дизайнер прикладывает папку со следующими избражениями:

*__Важно:__ названия файлов должны состоять из урлы проекта (например, partiya-edy)*
1. иконки сторов (partiya-edy-icon_1.jpg) 
2. девайсы для общей страницы портфолио (partiya-edy-for-list_1.png) 
3. девайс в шапку страницы (partiya-edy-iphone-header.png) 
4. фоновое изображение шапки с переходом в основной цвет (partiya-edy-header-bg.jpg) 
5. девайсы по порядку и с прописанной стороной + мобильные (…partiya-edy-iphone-2-right.png, partiya-edy-iphone-2-right-mob.png, partiya-edy-iphone-3-left.png, partiya-edy-iphone-3-left-mob.png и т.д) 
6. если есть, три андройда в конце (partiya-edy-nexus-1.png, partiya-edy-nexus-2.png и тд).

## Вёрстка

Верстальщик подготавливает каркас web-страницы на html перед началом js-разработки.
Каркас web-страницы представляет собой разметку без стилей и без конкретных компонентов.
Эту структуру надо передать JS-разработчикам.

Пока js-разработчики встраивают каркас страницы в проект, можно начать верстать отдельные компоненты.
Как только каркас заинтегрился в проект, верстка в отдельном от проекта файле завершается.
Для верстальщика создается бранч __style__ (про бранчи можно почитать в разделе [Git flow](git_flow.md)).
С этого момента верстальщик занимается стилизацией каркаса в ветке __style__.

Верстальщик хранит файлы со стилями в директориях, которые описаны здесь [Структура проекта](js_project.md)

Любые иконки, для которых не требуется полупрозрачность, должны быть вынесены в шрифт и для них должны быть созданы `css` классы. Это делается автоматически при сборке проекта, достаточно положить `svg` файл в определенную папку (см. раздел [Структура проекта](js_project.md))

## JS-разработка

В случае, если у верстальщика нет времени на верстку каркаса, JS-разработчик может сам создать каркас web-приложения.
Правки в каркас вносятся по правилам, описанным здесь: [Git flow](git_flow.md)

Перед внесением изменений в проект, JS-разработчик должен ознакомиться с [правилами по внесению изменений в проект](js_project.md)

Перед каждым коммитом запускается `eslinter`, пропускать проверку кода, либо частично отключать можно только после согласования с руководителем проекта.

Подключение новой библиотеки, которой нет в списке одобренных ([правилами по внесению изменений в проект](js_project.md)), нужно согласовывать с руководителем проекта.

Любой текст должен быть вынесен в файл с локализацией.

Все зависимости, которые касаются web'а должны быть в блоке `devDependencies` в файле `package.json`

После выкладывания версии на тестовый сервер, js-разработчики должны отписаться в чате проекта о том, что можно тестировать.
Все такски/баги в JIRA, относящиеся к этому деплою, должны быть зарезолвлены.

После того как приложение было протестировано и залито на продакшн, запрещается заливать новую версию с фиксом минорных багов в случае, если до показа приложения заказчику остается менее 2х часов.
