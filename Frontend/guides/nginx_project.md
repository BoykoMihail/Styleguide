# Выкладывание проекта на сервер

Все проекты лежат в директории `/srv`.

Папка проекта называется точно так же, как и домен проекта: `/srv/sberbank.touchin.com`.

Папка должна быть создана от имени простого юзера, без прав `sudo`. От имени этого же пользователя должен запускаться `pm2`.

В проекте должен находится файл `nginx.conf`,
для этого файла нужно сделать символьные ссылки на
`/etc/nginx/sites-enabled` и `/etc/nginx/sites-available`

# Структура проекта на сервере

```bash
/srv/domainname
├── web-builds/
├── web-current
├── server-src/
├── server-builds/
├── server-current.jar
└── nginx.conf
```

`web-builds` - тут лежат архивы с прошлыи версиями web-приложения

`web-current` - ссылка на папку с текущей версией веб-приложения. На эту папку ссылается nginx-конфиг

`server-src` - клонированный репозиторий серверной части веб приложения. Текущая ветка: `master`.

`server-builds` - тут лежат прошлые версиями сервера на `java` в виде `jar`

`server-current.jar` - ссылка на последнюю версию java-сервера

`nginx.conf` - конфигурация web и server для nginx
